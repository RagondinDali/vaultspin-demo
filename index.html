<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>VaultSpin ‚Äì Booster Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at top, #101827, #020617 60%);
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        color: #e5e7eb;
      }

      .app-wrapper {
        width: 100%;
        max-width: 1200px;
        padding: 40px 16px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 32px;
      }

      h1 {
        font-size: 28px;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #f9fafb;
      }

      .subtitle {
        font-size: 14px;
        color: #9ca3af;
      }

      .card-frame {
        position: relative;
        width: 260px;
        height: 380px;
        border-radius: 24px;
        padding: 2px;
        background: radial-gradient(circle at top, #facc15, #4b5563 70%);
        box-shadow: 0 0 40px rgba(250, 204, 21, 0.5);
      }

      .card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 22px;
        background: radial-gradient(circle at top, #020617, #020617 65%);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .card-image-wrapper {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 18px 18px 8px;
      }

      .card-image-wrapper img {
        max-width: 100%;
        max-height: 100%;
        border-radius: 16px;
        display: block;
      }

      .card-footer {
        padding: 12px 18px 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 11px;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: #f9fafb;
      }

      .card-footer-left {
        opacity: 0.9;
      }

      .card-footer-right {
        font-weight: 600;
      }

      .rarity-common {
        color: #facc15;
      }

      .rarity-rare {
        color: #38bdf8;
      }

      .rarity-ultra {
        color: #a855f7;
      }

      .rarity-legendary {
        color: #f97316;
      }

      /* glow colors selon raret√© (modifi√©es via JS avec data-rarity) */
      .card-frame[data-rarity="COMMON"] {
        background: radial-gradient(circle at top, #facc15, #4b5563 70%);
        box-shadow: 0 0 40px rgba(250, 204, 21, 0.45);
      }

      .card-frame[data-rarity="RARE"] {
        background: radial-gradient(circle at top, #38bdf8, #4b5563 70%);
        box-shadow: 0 0 40px rgba(56, 189, 248, 0.45);
      }

      .card-frame[data-rarity="ULTRA"] {
        background: radial-gradient(circle at top, #a855f7, #4b5563 70%);
        box-shadow: 0 0 40px rgba(168, 85, 247, 0.45);
      }

      .card-frame[data-rarity="LEGENDARY"] {
        background: radial-gradient(circle at top, #f97316, #4b5563 70%);
        box-shadow: 0 0 40px rgba(249, 115, 22, 0.55);
      }

      .token-id {
        opacity: 0.8;
      }

      .controls {
        margin-top: 24px;
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .btn {
        border-radius: 999px;
        border: 1px solid #4b5563;
        background: rgba(15, 23, 42, 0.9);
        color: #e5e7eb;
        padding: 8px 16px;
        font-size: 12px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        cursor: pointer;
        transition: all 0.15s ease-out;
      }

      .btn:hover {
        border-color: #facc15;
        box-shadow: 0 0 12px rgba(250, 204, 21, 0.4);
        transform: translateY(-1px);
      }
    </style>
  </head>

  <body>
    <div class="app-wrapper">
      <div>
        <h1>VaultSpin ‚Äì Booster Demo</h1>
        <p class="subtitle">
          Pr√©visualisation de la carte selon la raret√© (images locales).
        </p>
      </div>

      <!-- Carte -->
      <div id="card-frame" class="card-frame" data-rarity="COMMON">
        <div class="card-inner">
          <div class="card-image-wrapper">
            <!-- IMAGE DE LA CARTE -->
            <img
              id="card-image"
              src="images/venusaur_common.png"
              alt="VaultSpin NFT"
            />
          </div>

          <div class="card-footer">
            <div class="card-footer-left">
              <div>VAULTSPIN</div>
              <div class="token-id" id="token-id-label">#10</div>
            </div>
            <div
              class="card-footer-right rarity-common"
              id="rarity-label"
            >
              Common
            </div>
          </div>
        </div>
      </div>

      <!-- Petits boutons de test pour changer la raret√© -->
      <div class="controls">
        <button class="btn" onclick="renderCard(10, 'COMMON')">
          Common
        </button>
        <button class="btn" onclick="renderCard(10, 'RARE')">
          Rare
        </button>
        <button class="btn" onclick="renderCard(10, 'ULTRA')">
          Ultra
        </button>
        <button class="btn" onclick="renderCard(10, 'LEGENDARY')">
          Legendary
        </button>
      </div>
    </div>

    <script>
      // Mapping raret√© ‚Üí image locale
      const RARITY_IMAGES = {
        COMMON: "images/venusaur_common.png",
        RARE: "images/venusaur_rare.png",
        ULTRA: "images/venusaur_ultra.png",
        LEGENDARY: "images/venusaur_legendary.png",
      };

      // Mapping raret√© ‚Üí classe CSS pour le label
      const RARITY_LABEL_CLASS = {
        COMMON: "rarity-common",
        RARE: "rarity-rare",
        ULTRA: "rarity-ultra",
        LEGENDARY: "rarity-legendary",
      };

      // Fonction principale que tu pourras appeler depuis ton code Web3
      // ex: renderCard(tokenIdFromContract, rarityFromContract);
      function renderCard(tokenId, rarity) {
        const normalizedRarity = String(rarity || "")
          .toUpperCase()
          .trim();

        const imageSrc =
          RARITY_IMAGES[normalizedRarity] || RARITY_IMAGES["COMMON"];

        const cardFrame = document.getElementById("card-frame");
        const imgEl = document.getElementById("card-image");
        const rarityLabel = document.getElementById("rarity-label");
        const tokenIdLabel = document.getElementById("token-id-label");

        // Image
        imgEl.src = imageSrc;

        // Token ID
        tokenIdLabel.textContent = "#" + tokenId;

        // Glow & data-rarity
        cardFrame.setAttribute("data-rarity", normalizedRarity);

        // Label texte + couleur
        const formatted =
          normalizedRarity.charAt(0) +
          normalizedRarity.slice(1).toLowerCase();
        rarityLabel.textContent = formatted;

        // reset classes puis appliquer la bonne
        rarityLabel.className = "card-footer-right";
        const rarityClass = RARITY_LABEL_CLASS[normalizedRarity];
        if (rarityClass) {
          rarityLabel.classList.add(rarityClass);
        }
      }

      // üß™ Exemple de test auto au chargement (tu peux changer la raret√© ici)
      document.addEventListener("DOMContentLoaded", () => {
        // Par d√©faut : Common
        renderCard(10, "COMMON");
      });
    </script>
  </body>
</html>
